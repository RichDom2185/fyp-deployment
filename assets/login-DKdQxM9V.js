import"./hooks-CYRrV7oD.js";import{K as e,W as t,_ as n,i as r,o as i,u as a,w as o,y as s}from"./index-DkHy_0vr.js";import{n as c,t as l}from"./card-BBO2aCaD.js";import{t as u}from"./button-CVZMqZS2.js";import{t as d}from"./input-D350uBQc.js";import{t as f}from"./label-DTAA1nE2.js";import{t as p}from"./separator-BzoXs7wx.js";import{t as m}from"./auth-OTyC42MX.js";var h=e(t()),g=e(o()),_=(({handleSubmit:e})=>{let[t,n]=(0,h.useState)(``),[r,i]=(0,h.useState)(``),[a,o]=(0,h.useState)(!1);return(0,g.jsxs)(`form`,{onSubmit:async n=>{n.preventDefault(),o(!0);try{await e?.(t,r)}catch(e){window.alert(`Login failed: ${e instanceof Error?e.message:e}`)}finally{o(!1)}},className:`space-y-6`,children:[(0,g.jsxs)(`div`,{className:`space-y-4`,children:[(0,g.jsxs)(`div`,{className:`space-y-2`,children:[(0,g.jsx)(f,{htmlFor:`email`,children:`Email`}),(0,g.jsx)(d,{id:`email`,type:`email`,name:`email`,placeholder:`john@example.com`,required:!0,value:t,onChange:e=>n(e.target.value)})]}),(0,g.jsxs)(`div`,{className:`space-y-2`,children:[(0,g.jsx)(f,{htmlFor:`password`,children:`Password`}),(0,g.jsx)(d,{id:`password`,autoCapitalize:`off`,autoComplete:`off`,autoCorrect:`off`,spellCheck:`false`,type:`password`,name:`password`,placeholder:`Enter your password`,required:!0,value:r,onChange:e=>i(e.target.value)})]})]}),(0,g.jsx)(u,{type:`submit`,className:`w-full`,disabled:a,children:a?`Logging in...`:`Login with Email`})]})}),v={google:`bg-red-500 hover:bg-red-600`,github:`bg-gray-800 hover:bg-gray-900`},y=(()=>(0,g.jsxs)(`div`,{className:`flex flex-col items-center space-y-3`,children:[(0,g.jsx)(`span`,{className:`text-gray-500 text-sm`,children:`Or login with`}),(0,g.jsx)(`div`,{className:`flex space-x-4`,children:Object.values(r).map(e=>(0,g.jsx)(`a`,{href:e.authUrl.toString(),className:`px-4 py-2 text-white rounded transition ${v[e.id]}`,children:e.name},e.id))})]}));const b=()=>{let e=i(),t=s(),o=n(),u=new URLSearchParams(o.search).get(`continue`),d=m({onSuccess:n=>{e(a.setTokens(n)),t(u||`/dashboard`)}});return(0,g.jsx)(`div`,{className:`flex h-screen w-screen items-center justify-center bg-gray-100`,children:(0,g.jsx)(l,{children:(0,g.jsxs)(c,{className:`w-96 space-y-4`,children:[(0,g.jsx)(_,{handleSubmit:(e,t)=>{d.mutate({email:e,password:t})}}),(0,g.jsx)(p,{}),Object.keys(r).length>0&&(0,g.jsx)(y,{}),(0,g.jsxs)(`div`,{className:`text-center text-sm text-gray-500`,children:[`Don't have an account?`,` `,(0,g.jsx)(`a`,{href:`/register`,className:`text-blue-600 hover:underline`,children:`Register`})]})]})})})};b.displayName=`Login`;var x=b;export{b as Component,x as default};