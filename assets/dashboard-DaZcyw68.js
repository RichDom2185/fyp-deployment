import{M as e,O as t,b as n,e as r,f as i,h as a,i as o,p as s,u as c}from"./index-Bs8aadkd.js";import"./createLucideIcon-DqG0DHeO.js";import"./x-mg3t4k7I.js";import"./dist-llZru0B9.js";import{b as l,c as u}from"./card-BMnDr983.js";import"./dist--YnhsTxm.js";import"./dist-CCRb2na5.js";import"./dist-DEsMtrTy.js";import{b as d}from"./button-BZWKUvv8.js";import"./dist-Bla976vA.js";import"./dist-7EGWOJjd.js";import"./es2015-BEmO_MJW.js";import"./dist-CJMTArN6.js";import{b as f,c as p,d as m,e as h,f as g,g as _,h as v}from"./dialog-BkqHZEfH.js";import{b as y}from"./input-CuOJpIvR.js";import{b,c as x,d as S}from"./avatar-CycC6-uI.js";import"./shim-D9fNaxnq.js";import{b as C}from"./badge-DdBbAh8c.js";import{b as w,c as T,d as E,f as D,g as O}from"./dropdown-menu-CvCTaiqQ.js";import"./dist-TtmwqwDH.js";import{b as k}from"./label-BD2UL6p3.js";var A=t(e()),j=t(c());const M=(({name:e,role:t,onClick:n})=>(0,j.jsx)(l,{className:`w-64 shadow-md cursor-pointer hover:shadow-lg transition`,onClick:n,children:(0,j.jsxs)(u,{className:`p-6 flex flex-col gap-2`,children:[(0,j.jsx)(`div`,{className:`text-xl font-semibold text-gray-800`,children:e}),(0,j.jsx)(C,{variant:`default`,className:`self-start`,children:t})]})}));var N=M;const P=(({onClick:e})=>(0,j.jsx)(l,{className:`w-64 border-dashed border-2 border-gray-300 bg-gray-50 text-gray-400 flex items-center justify-center cursor-pointer hover:bg-gray-100 transition`,onClick:e,children:(0,j.jsxs)(u,{className:`p-6 flex flex-col items-center justify-center`,children:[(0,j.jsx)(`span`,{className:`text-2xl mb-2`,children:`ï¼‹`}),(0,j.jsx)(`span`,{className:`font-medium`,children:`Create New Course`})]})}));var F=P;const I=(({onChange:e})=>{let[t,n]=(0,A.useState)(``);return(0,A.useEffect)(()=>{e?.(t)},[t,e]),(0,j.jsx)(`div`,{className:`space-y-4`,children:(0,j.jsxs)(`div`,{className:`space-y-2`,children:[(0,j.jsx)(k,{htmlFor:`courseName`,children:`Course Name`}),(0,j.jsx)(y,{id:`courseName`,type:`text`,name:`courseName`,placeholder:`Introduction to React`,required:!0,value:t,onChange:e=>n(e.target.value)})]})})});var L=I;const R=(({open:e,onCancel:t,onSubmit:n})=>{let[r,i]=(0,A.useState)(``),a=e=>{e||t?.()},o=e=>{e.preventDefault(),n?.(r)};return(0,j.jsx)(f,{open:e,onOpenChange:a,children:(0,j.jsx)(m,{children:(0,j.jsxs)(`form`,{onSubmit:o,className:`space-y-4`,children:[(0,j.jsxs)(_,{className:`space-y-0.5`,children:[(0,j.jsx)(v,{children:`Create New Course`}),(0,j.jsx)(h,{children:`You will automatically be assigned the "admin" role for the course.`})]}),(0,j.jsx)(L,{onChange:i}),(0,j.jsxs)(g,{children:[(0,j.jsx)(p,{asChild:!0,children:(0,j.jsx)(d,{type:`button`,variant:`destructive`,children:`Cancel`})}),(0,j.jsx)(d,{type:`submit`,disabled:!r.trim(),children:`Create`})]})]})})})});var z=R;const B=(()=>{let e=s(),t=r(),n=()=>{t(o.clearTokens()),e(`/login`)};return(0,j.jsxs)(`div`,{className:`absolute top-0 left-0 w-full bg-white shadow flex items-center justify-between px-6 py-3`,children:[(0,j.jsx)(`span`,{className:`text-xl font-semibold text-blue-600`,children:`My App`}),(0,j.jsxs)(w,{children:[(0,j.jsx)(O,{asChild:!0,children:(0,j.jsx)(d,{variant:`ghost`,className:`p-0 rounded-full`,children:(0,j.jsxs)(b,{children:[(0,j.jsx)(S,{src:`/profile.jpg`,alt:`Profile`}),(0,j.jsx)(x,{children:`JD`})]})})}),(0,j.jsxs)(T,{align:`end`,children:[(0,j.jsx)(E,{children:`Profile Settings`}),(0,j.jsx)(D,{}),(0,j.jsx)(E,{onClick:n,className:`text-red-600`,children:`Logout`})]})]})]})});var V=B;const H=()=>{let e=s(),t=i(e=>e.courses.coursesList),o=r(),[c,l]=(0,A.useState)(!1);(0,A.useEffect)(()=>{let e=async()=>{let e=await n.GET(`/api/v1/courses`);e.data?o(a.setCoursesList(e.data)):alert(`Failed to fetch courses`)};e()},[o]);let u=async e=>{let t=await n.POST(`/api/v1/courses`,{body:{name:e}});t.data?(o(a.addCourse(t.data)),l(!1)):alert(`Failed to create course`)};return(0,j.jsxs)(`div`,{className:`flex flex-col h-screen w-screen bg-gray-100`,children:[(0,j.jsx)(V,{}),(0,j.jsx)(`div`,{className:`flex-1 flex flex-col items-center justify-center`,children:(0,j.jsxs)(`div`,{className:`grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8`,children:[t.map(t=>(0,j.jsx)(N,{name:t.name,role:t.role,onClick:()=>e(`/courses/${t.id}`)},t.id)),(0,j.jsx)(F,{onClick:()=>l(!0)})]})}),(0,j.jsx)(z,{open:c,onCancel:()=>l(!1),onSubmit:u})]})},U=H;U.displayName=`Dashboard`;var W=U;export{U as Component,W as default};