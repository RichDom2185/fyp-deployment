import{n as e,t}from"./hooks-BAT23hyk.js";import{K as n,T as r,Z as i,l as a,n as o,o as s,t as c,w as l}from"./index-Ra2lGJdp.js";import{t as u}from"./button-ZbUugITV.js";import{t as d}from"./input-DWGpcTdi.js";import{a as f,i as p,n as m,o as h,r as g,s as _,t as v}from"./dialog-ZgoMsabM.js";import{t as y}from"./label-qYupBdTo.js";var b=i(n());function x(){let{data:e}=t({...c.courses.all,staleTime:300*1e3,errorMessage:`Failed to load courses`,fallbackValue:[]}),n=s();(0,b.useEffect)(()=>{e&&n(a.setCoursesList(e))},[n,e])}function S({onSuccess:t,onError:n}={}){let r=l();return e({mutationFn:async e=>{let t=await o.POST(`/api/v1/courses`,{body:{name:e}});if(t.error)throw Error(`Failed to create course`);return t.data},errorMessage:`Failed to create course`,showSuccessToast:!0,successMessage:`Course created successfully`,onSuccess:e=>{r.invalidateQueries({queryKey:c.courses.all.queryKey}),t?.(e)},onError:n})}var C=i(r());function w({onChange:e}){let[t,n]=(0,b.useState)(``);return(0,b.useEffect)(()=>{e?.(t)},[t,e]),(0,C.jsx)(`div`,{className:`space-y-4`,children:(0,C.jsxs)(`div`,{className:`space-y-2`,children:[(0,C.jsx)(y,{htmlFor:`courseName`,children:`Course Name`}),(0,C.jsx)(d,{id:`courseName`,type:`text`,name:`courseName`,placeholder:`Introduction to React`,required:!0,value:t,onChange:e=>n(e.target.value)})]})})}var T=w;function E({open:e,onCancel:t,onSubmit:n}){let[r,i]=(0,b.useState)(``);return(0,C.jsx)(v,{open:e,onOpenChange:e=>{e||t?.()},children:(0,C.jsx)(g,{children:(0,C.jsxs)(`form`,{onSubmit:e=>{e.preventDefault(),n?.(r)},className:`space-y-4`,children:[(0,C.jsxs)(h,{className:`space-y-0.5`,children:[(0,C.jsx)(_,{children:`Create New Course`}),(0,C.jsx)(p,{children:`You will automatically be assigned the "admin" role for the course.`})]}),(0,C.jsx)(T,{onChange:i}),(0,C.jsxs)(f,{children:[(0,C.jsx)(m,{asChild:!0,children:(0,C.jsx)(u,{type:`button`,variant:`destructive`,children:`Cancel`})}),(0,C.jsx)(u,{type:`submit`,disabled:!r.trim(),children:`Create`})]})]})})})}var D=E;export{x as n,S as r,D as t};