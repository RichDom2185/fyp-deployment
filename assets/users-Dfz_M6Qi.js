import{b as e}from"./useQuery-DZYWD2Pv.js";import{O as t,b as n,r,u as i}from"./index-Bs8aadkd.js";import"./dist-llZru0B9.js";import"./dist--YnhsTxm.js";import"./dist-CCRb2na5.js";import"./dist-DEsMtrTy.js";import{b as a}from"./button-BZWKUvv8.js";import"./dist-Bla976vA.js";import"./dist-7EGWOJjd.js";import"./es2015-BEmO_MJW.js";import{b as o,c as s,d as c}from"./avatar-CycC6-uI.js";import"./shim-D9fNaxnq.js";import{b as l,c as u,d,g as f}from"./dropdown-menu-CvCTaiqQ.js";import"./dist-TtmwqwDH.js";var p=t(i());const m=(({roles:e,user:t,onChange:n})=>(0,p.jsxs)(l,{children:[(0,p.jsx)(f,{asChild:!0,children:(0,p.jsx)(a,{variant:`outline`,size:`sm`,children:t.role})}),(0,p.jsx)(u,{children:e.map(e=>(0,p.jsx)(d,{onClick:()=>n(t.id,e),children:e},e))})]}));var h=m;const g=[`Admin`,`Editor`,`Viewer`],_=(({user:e})=>(0,p.jsxs)(`tr`,{className:`border-t`,children:[(0,p.jsxs)(`td`,{className:`p-3 flex items-center gap-3`,children:[(0,p.jsxs)(o,{children:[(0,p.jsx)(c,{src:e.avatarUrl,alt:e.name}),(0,p.jsx)(s,{children:e.name.charAt(0)})]}),(0,p.jsx)(`span`,{children:e.name})]}),(0,p.jsx)(`td`,{className:`p-3`,children:e.email}),(0,p.jsx)(`td`,{className:`p-3`,children:(0,p.jsx)(h,{roles:g,user:e,onChange:(e,t)=>{window.alert(`User ID: ${e}, New Role: ${t}`)}})})]},e.id));var v=_;const y=(({users:e})=>(0,p.jsxs)(`table`,{className:`min-w-full text-sm`,children:[(0,p.jsx)(`thead`,{className:`bg-muted`,children:(0,p.jsxs)(`tr`,{children:[(0,p.jsx)(`th`,{className:`p-3 text-left font-semibold`,children:`User`}),(0,p.jsx)(`th`,{className:`p-3 text-left font-semibold`,children:`Email`}),(0,p.jsx)(`th`,{className:`p-3 text-left font-semibold`,children:`Role`}),(0,p.jsx)(`th`,{className:`p-3`})]})}),(0,p.jsx)(`tbody`,{children:e.map(e=>(0,p.jsx)(v,{user:{id:e.userId,name:e.userName,email:e.userEmail,role:e.roleName}},e.id))})]}));var b=y;const x={breadcrumb:`User Settings`},S=()=>{let{courseId:t}=r(),{data:i,isLoading:a}=e({queryKey:[`courses`,t,`members`],queryFn:async()=>{let e=await n.GET(`/api/v1/courses/{courseId}/members`,{params:{path:{courseId:parseInt(t)}}});return e.data.map(e=>({id:e.id,userId:e.user.id,userName:e.user.fullName,userEmail:e.user.email,roleName:e.role.name,roleId:e.role.id,joinedAt:e.createdAt}))}});return(0,p.jsxs)(`div`,{className:`max-w-3xl mx-auto py-8`,children:[(0,p.jsx)(`div`,{className:`flex items-center justify-between mb-6`,children:(0,p.jsx)(`h1`,{className:`text-2xl font-bold`,children:`Course Users`})}),(0,p.jsx)(`div`,{className:`overflow-x-auto rounded border`,children:a?(0,p.jsx)(`div`,{className:`text-center py-8`,children:`Loading membersâ€¦`}):!i||i.length===0?(0,p.jsx)(`div`,{className:`text-center py-8 text-muted-foreground`,children:`No members found`}):(0,p.jsx)(b,{users:i})})]})},C=S;C.displayName=`UsersSettings`;var w=C;export{C as Component,w as default,x as handle};