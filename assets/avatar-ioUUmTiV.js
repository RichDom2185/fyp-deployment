import{L as e,M as t,O as n,u as r}from"./index-BhFOQNBT.js";import{e as i,g as a}from"./dist-BWP1BH0m.js";import{f as o}from"./dist-ztOuzjD-.js";import{b as s}from"./dist-D522ueSb.js";import{b as c}from"./shim-0-BgrIWa.js";var l=n(t(),1),u=n(r(),1);function d(e,t=[]){let n=[];function r(t,r){let i=l.createContext(r);i.displayName=t+`Context`;let a=n.length;n=[...n,r];let o=t=>{let{scope:n,children:r,...o}=t,s=n?.[e]?.[a]||i,c=l.useMemo(()=>o,Object.values(o));return(0,u.jsx)(s.Provider,{value:c,children:r})};o.displayName=t+`Provider`;function s(n,o){let s=o?.[e]?.[a]||i,c=l.useContext(s);if(c)return c;if(r!==void 0)return r;throw Error(`\`${n}\` must be used within \`${t}\``)}return[o,s]}let i=()=>{let t=n.map(e=>l.createContext(e));return function(n){let r=n?.[e]||t;return l.useMemo(()=>({[`__scope${e}`]:{...n,[e]:r}}),[n,r])}};return i.scopeName=e,[r,f(i,...t)]}function f(...e){let t=e[0];if(e.length===1)return t;let n=()=>{let n=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=n.reduce((t,{useScope:n,scopeName:r})=>{let i=n(e),a=i[`__scope${r}`];return{...t,...a}},{});return l.useMemo(()=>({[`__scope${t.scopeName}`]:r}),[r])}};return n.scopeName=t.scopeName,n}var p=Symbol.for(`react.lazy`),m=l.use;function h(e){return typeof e==`object`&&!!e&&`then`in e}function g(e){return typeof e==`object`&&!!e&&`$$typeof`in e&&e.$$typeof===p&&`_payload`in e&&h(e._payload)}function _(e){let t=v(e),n=l.forwardRef((e,n)=>{let{children:r,...i}=e;g(r)&&typeof m==`function`&&(r=m(r._payload));let a=l.Children.toArray(r),o=a.find(b);if(o){let e=o.props.children,r=a.map(t=>t===o?l.Children.count(e)>1?l.Children.only(null):l.isValidElement(e)?e.props.children:null:t);return(0,u.jsx)(t,{...i,ref:n,children:l.isValidElement(e)?l.cloneElement(e,void 0,r):null})}return(0,u.jsx)(t,{...i,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}function v(e){let t=l.forwardRef((e,t)=>{let{children:n,...r}=e;if(g(n)&&typeof m==`function`&&(n=m(n._payload)),l.isValidElement(n)){let e=S(n),a=x(r,n.props);return n.type!==l.Fragment&&(a.ref=t?i(t,e):e),l.cloneElement(n,a)}return l.Children.count(n)>1?l.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var y=Symbol(`radix.slottable`);function b(e){return l.isValidElement(e)&&typeof e.type==`function`&&`__radixId`in e.type&&e.type.__radixId===y}function x(e,t){let n={...t};for(let r in t){let i=e[r],a=t[r],o=/^on[A-Z]/.test(r);o?i&&a?n[r]=(...e)=>{let t=a(...e);return i(...e),t}:i&&(n[r]=i):r===`style`?n[r]={...i,...a}:r===`className`&&(n[r]=[i,a].filter(Boolean).join(` `))}return{...e,...n}}function S(e){let t=Object.getOwnPropertyDescriptor(e.props,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,`ref`)?.get,n=t&&`isReactWarning`in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}e();var C=[`a`,`button`,`div`,`form`,`h2`,`h3`,`img`,`input`,`label`,`li`,`nav`,`ol`,`p`,`select`,`span`,`svg`,`ul`],w=C.reduce((e,t)=>{let n=_(`Primitive.${t}`),r=l.forwardRef((e,r)=>{let{asChild:i,...a}=e,o=i?n:t;return typeof window<`u`&&(window[Symbol.for(`radix-ui`)]=!0),(0,u.jsx)(o,{...a,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),T=n(c(),1);function E(){return(0,T.useSyncExternalStore)(D,()=>!0,()=>!1)}function D(){return()=>{}}var O=`Avatar`,[k,A]=d(O),[j,M]=k(O),N=l.forwardRef((e,t)=>{let{__scopeAvatar:n,...r}=e,[i,a]=l.useState(`idle`);return(0,u.jsx)(j,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:(0,u.jsx)(w.span,{...r,ref:t})})});N.displayName=O;var P=`AvatarImage`,F=l.forwardRef((e,t)=>{let{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,c=M(P,n),l=z(r,a),d=s(e=>{i(e),c.onImageLoadingStatusChange(e)});return o(()=>{l!==`idle`&&d(l)},[l,d]),l===`loaded`?(0,u.jsx)(w.img,{...a,ref:t,src:r}):null});F.displayName=P;var I=`AvatarFallback`,L=l.forwardRef((e,t)=>{let{__scopeAvatar:n,delayMs:r,...i}=e,a=M(I,n),[o,s]=l.useState(r===void 0);return l.useEffect(()=>{if(r!==void 0){let e=window.setTimeout(()=>s(!0),r);return()=>window.clearTimeout(e)}},[r]),o&&a.imageLoadingStatus!==`loaded`?(0,u.jsx)(w.span,{...i,ref:t}):null});L.displayName=I;function R(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?`loaded`:`loading`):`error`:`idle`}function z(e,{referrerPolicy:t,crossOrigin:n}){let r=E(),i=l.useRef(null),a=(()=>r?(i.current||=new window.Image,i.current):null)(),[s,c]=l.useState(()=>R(a,e));return o(()=>{c(R(a,e))},[a,e]),o(()=>{let e=e=>()=>{c(e)};if(!a)return;let r=e(`loaded`),i=e(`error`);return a.addEventListener(`load`,r),a.addEventListener(`error`,i),t&&(a.referrerPolicy=t),typeof n==`string`&&(a.crossOrigin=n),()=>{a.removeEventListener(`load`,r),a.removeEventListener(`error`,i)}},[a,n,t]),s}var B=N,V=F,H=L;function U({className:e,...t}){return(0,u.jsx)(B,{"data-slot":`avatar`,className:a(`relative flex size-8 shrink-0 overflow-hidden rounded-full`,e),...t})}function W({className:e,...t}){return(0,u.jsx)(V,{"data-slot":`avatar-image`,className:a(`aspect-square size-full`,e),...t})}function G({className:e,...t}){return(0,u.jsx)(H,{"data-slot":`avatar-fallback`,className:a(`bg-muted flex size-full items-center justify-center rounded-full`,e),...t})}export{U as b,G as c,W as d};