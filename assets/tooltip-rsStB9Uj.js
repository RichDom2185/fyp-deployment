import{K as e,W as t,w as n}from"./index-DkHy_0vr.js";import{n as r,r as i}from"./dist-UfzXyJyC.js";import{a,c as o,r as s,t as c}from"./dist-9HtfvUSP.js";import{t as l}from"./dist-CdvpceoY.js";import{n as u,t as d}from"./dist-B9472mIa.js";import{n as f,t as p}from"./dist-B7eGBNb4.js";import{a as m,i as h,n as g,r as _,t as v}from"./dist-JhvK22Td.js";import{t as y}from"./dist-DQRyEv8I.js";var b=e(t(),1),x=e(n(),1),[S,C]=s(`Tooltip`,[m]),w=m(),T=`TooltipProvider`,E=700,D=`tooltip.open`,[O,k]=S(T),A=e=>{let{__scopeTooltip:t,delayDuration:n=E,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=b.useRef(!0),s=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{let e=c.current;return()=>window.clearTimeout(e)},[]),(0,x.jsx)(O,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:b.useCallback(e=>{s.current=e},[]),disableHoverableContent:i,children:a})};A.displayName=T;var j=`Tooltip`,[M,N]=S(j),P=e=>{let{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:s}=e,c=k(j,e.__scopeTooltip),l=w(t),[f,p]=b.useState(null),m=u(),g=b.useRef(0),_=o??c.disableHoverableContent,v=s??c.delayDuration,y=b.useRef(!1),[S,C]=d({prop:r,defaultProp:i??!1,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(D))):c.onClose(),a?.(e)},caller:j}),T=b.useMemo(()=>S?y.current?`delayed-open`:`instant-open`:`closed`,[S]),E=b.useCallback(()=>{window.clearTimeout(g.current),g.current=0,y.current=!1,C(!0)},[C]),O=b.useCallback(()=>{window.clearTimeout(g.current),g.current=0,C(!1)},[C]),A=b.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{y.current=!0,C(!0),g.current=0},v)},[v,C]);return b.useEffect(()=>()=>{g.current&&=(window.clearTimeout(g.current),0)},[]),(0,x.jsx)(h,{...l,children:(0,x.jsx)(M,{scope:t,contentId:m,open:S,stateAttribute:T,trigger:f,onTriggerChange:p,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?A():E()},[c.isOpenDelayedRef,A,E]),onTriggerLeave:b.useCallback(()=>{_?O():(window.clearTimeout(g.current),g.current=0)},[O,_]),onOpen:E,onClose:O,disableHoverableContent:_,children:n})})};P.displayName=j;var F=`TooltipTrigger`,I=b.forwardRef((e,t)=>{let{__scopeTooltip:n,...i}=e,o=N(F,n),s=k(F,n),l=w(n),u=r(t,b.useRef(null),o.onTriggerChange),d=b.useRef(!1),f=b.useRef(!1),p=b.useCallback(()=>d.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener(`pointerup`,p),[p]),(0,x.jsx)(v,{asChild:!0,...l,children:(0,x.jsx)(a.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:u,onPointerMove:c(e.onPointerMove,e=>{e.pointerType!==`touch`&&!f.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),f.current=!0)}),onPointerLeave:c(e.onPointerLeave,()=>{o.onTriggerLeave(),f.current=!1}),onPointerDown:c(e.onPointerDown,()=>{o.open&&o.onClose(),d.current=!0,document.addEventListener(`pointerup`,p,{once:!0})}),onFocus:c(e.onFocus,()=>{d.current||o.onOpen()}),onBlur:c(e.onBlur,o.onClose),onClick:c(e.onClick,o.onClose)})})});I.displayName=F;var L=`TooltipPortal`,[ee,R]=S(L,{forceMount:void 0}),z=e=>{let{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,a=N(L,t);return(0,x.jsx)(ee,{scope:t,forceMount:n,children:(0,x.jsx)(l,{present:n||a.open,children:(0,x.jsx)(p,{asChild:!0,container:i,children:r})})})};z.displayName=L;var B=`TooltipContent`,V=b.forwardRef((e,t)=>{let n=R(B,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i=`top`,...a}=e,o=N(B,e.__scopeTooltip);return(0,x.jsx)(l,{present:r||o.open,children:o.disableHoverableContent?(0,x.jsx)(G,{side:i,...a,ref:t}):(0,x.jsx)(te,{side:i,...a,ref:t})})}),te=b.forwardRef((e,t)=>{let n=N(B,e.__scopeTooltip),i=k(B,e.__scopeTooltip),a=b.useRef(null),o=r(t,a),[s,c]=b.useState(null),{trigger:l,onClose:u}=n,d=a.current,{onPointerInTransitChange:f}=i,p=b.useCallback(()=>{c(null),f(!1)},[f]),m=b.useCallback((e,t)=>{let n=e.currentTarget,r={x:e.clientX,y:e.clientY},i=Y(r,J(r,n.getBoundingClientRect())),a=X(t.getBoundingClientRect());c(ne([...i,...a])),f(!0)},[f]);return b.useEffect(()=>()=>p(),[p]),b.useEffect(()=>{if(l&&d){let e=e=>m(e,d),t=e=>m(e,l);return l.addEventListener(`pointerleave`,e),d.addEventListener(`pointerleave`,t),()=>{l.removeEventListener(`pointerleave`,e),d.removeEventListener(`pointerleave`,t)}}},[l,d,m,p]),b.useEffect(()=>{if(s){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},r=l?.contains(t)||d?.contains(t),i=!Z(n,s);r?p():i&&(p(),u())};return document.addEventListener(`pointermove`,e),()=>document.removeEventListener(`pointermove`,e)}},[l,d,s,u,p]),(0,x.jsx)(G,{...e,ref:o})}),[H,U]=S(j,{isInside:!1}),W=o(`TooltipContent`),G=b.forwardRef((e,t)=>{let{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...s}=e,c=N(B,n),l=w(n),{onClose:u}=c;return b.useEffect(()=>(document.addEventListener(D,u),()=>document.removeEventListener(D,u)),[u]),b.useEffect(()=>{if(c.trigger){let e=e=>{e.target?.contains(c.trigger)&&u()};return window.addEventListener(`scroll`,e,{capture:!0}),()=>window.removeEventListener(`scroll`,e,{capture:!0})}},[c.trigger,u]),(0,x.jsx)(f,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:(0,x.jsxs)(_,{"data-state":c.stateAttribute,...l,...s,ref:t,style:{...s.style,"--radix-tooltip-content-transform-origin":`var(--radix-popper-transform-origin)`,"--radix-tooltip-content-available-width":`var(--radix-popper-available-width)`,"--radix-tooltip-content-available-height":`var(--radix-popper-available-height)`,"--radix-tooltip-trigger-width":`var(--radix-popper-anchor-width)`,"--radix-tooltip-trigger-height":`var(--radix-popper-anchor-height)`},children:[(0,x.jsx)(W,{children:r}),(0,x.jsx)(H,{scope:n,isInside:!0,children:(0,x.jsx)(y,{id:c.contentId,role:`tooltip`,children:i||r})})]})})});V.displayName=B;var K=`TooltipArrow`,q=b.forwardRef((e,t)=>{let{__scopeTooltip:n,...r}=e,i=w(n);return U(K,n).isInside?null:(0,x.jsx)(g,{...i,...r,ref:t})});q.displayName=K;function J(e,t){let n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return`left`;case i:return`right`;case n:return`top`;case r:return`bottom`;default:throw Error(`unreachable`)}}function Y(e,t,n=5){let r=[];switch(t){case`top`:r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case`bottom`:r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case`left`:r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case`right`:r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function X(e){let{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Z(e,t){let{x:n,y:r}=e,i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){let o=t[e],s=t[a],c=o.x,l=o.y,u=s.x,d=s.y;l>r!=d>r&&n<(u-c)*(r-l)/(d-l)+c&&(i=!i)}return i}function ne(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),re(t)}function re(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let r=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(r.y-n.y)>=(e.y-n.y)*(r.x-n.x))t.pop();else break}t.push(r)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let r=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(r.y-t.y)>=(e.y-t.y)*(r.x-t.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var ie=A,ae=P,oe=I,se=z,Q=V,ce=q;function $({delayDuration:e=0,...t}){return(0,x.jsx)(ie,{"data-slot":`tooltip-provider`,delayDuration:e,...t})}function le({...e}){return(0,x.jsx)($,{children:(0,x.jsx)(ae,{"data-slot":`tooltip`,...e})})}function ue({...e}){return(0,x.jsx)(oe,{"data-slot":`tooltip-trigger`,...e})}function de({className:e,sideOffset:t=0,children:n,...r}){return(0,x.jsx)(se,{children:(0,x.jsxs)(Q,{"data-slot":`tooltip-content`,sideOffset:t,className:i(`bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance`,e),...r,children:[n,(0,x.jsx)(ce,{className:`bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]`})]})})}export{ue as i,de as n,$ as r,le as t};