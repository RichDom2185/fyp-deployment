import{t as e}from"./hooks-BVZKHwJG.js";import{T as t,Z as n,f as r,s as i,t as a}from"./index-De71N5Dy.js";import{t as o}from"./button-DPMtwoy8.js";import{t as s}from"./brain-BxTkc3u_.js";import{t as c}from"./plus-CkBlMRvf.js";import{a as l,n as u,o as d,t as f}from"./card-D2-K7jj_.js";import{t as p}from"./badge-BMO5XGh0.js";var m=n(t());function h(e){return new Intl.DateTimeFormat(`en-US`,{year:`numeric`,month:`short`,day:`numeric`,hour:`2-digit`,minute:`2-digit`}).format(new Date(e))}function g({quiz:e,courseId:t}){let n=e.maxAttempts===null?`${e.attemptsUsed??0} attempts`:`${e.attemptsUsed??0}/${e.maxAttempts} attempts used`,i=!e.attemptsUsed||e.attemptsUsed===0,a=e.hasInProgressAttempt;return(0,m.jsxs)(f,{className:`hover:shadow-md transition-shadow ${a?`border-yellow-500 border-2`:i?`border-blue-500 border-2`:``}`,children:[(0,m.jsx)(l,{children:(0,m.jsxs)(`div`,{className:`flex items-start justify-between`,children:[(0,m.jsxs)(`div`,{className:`flex items-start gap-3`,children:[(0,m.jsx)(s,{className:`h-5 w-5 text-muted-foreground mt-1`}),(0,m.jsxs)(`div`,{children:[(0,m.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,m.jsx)(d,{className:`text-lg`,children:e.title}),a&&(0,m.jsx)(p,{variant:`outline`,className:`bg-yellow-50 text-yellow-700 border-yellow-300`,children:`In Progress`}),i&&!a&&(0,m.jsx)(p,{variant:`outline`,className:`bg-blue-50 text-blue-700 border-blue-300`,children:`New`})]}),(0,m.jsxs)(`div`,{className:`flex gap-4 mt-1`,children:[(0,m.jsxs)(`p`,{className:`text-sm text-muted-foreground`,children:[e.questionCount,` questions`]}),e.timeLimit&&(0,m.jsxs)(`p`,{className:`text-sm text-muted-foreground`,children:[e.timeLimit,` min`]})]})]})]}),e.bestScore!==void 0&&e.bestScore!==null&&(0,m.jsxs)(p,{variant:`default`,children:[`Best: `,e.bestScore.toFixed(1),`%`]})]})}),(0,m.jsx)(u,{children:(0,m.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,m.jsxs)(`div`,{className:`text-sm space-y-1`,children:[e.dueDate&&(0,m.jsxs)(`p`,{className:`text-muted-foreground`,children:[`Due: `,h(e.dueDate)]}),(0,m.jsx)(`p`,{className:`text-muted-foreground`,children:n})]}),(0,m.jsx)(r,{to:`/courses/${t}/quizzes/${e.id}`,children:(0,m.jsx)(o,{variant:`outline`,size:`sm`,children:`View Quiz`})})]})})]})}var _=g;function v(){let t=i(e=>e.courses.currentCourseId),{data:n=[],isLoading:s}=e({...a.quizzes.list(t),errorMessage:`Failed to load quizzes`,fallbackValue:[],enabled:!!t});return s?(0,m.jsx)(`div`,{className:`max-w-5xl mx-auto px-6 pb-8 h-[calc(100vh-4rem)] overflow-y-auto`,children:(0,m.jsx)(`div`,{className:`flex items-center justify-center pt-8`,children:(0,m.jsx)(`p`,{className:`text-muted-foreground`,children:`Loading quizzesâ€¦`})})}):(0,m.jsxs)(`div`,{className:`max-w-5xl mx-auto px-6 pb-8 h-[calc(100vh-4rem)] overflow-y-auto`,children:[(0,m.jsxs)(`div`,{className:`flex items-center justify-between sticky top-0 bg-background pt-8 pb-4 z-10`,children:[(0,m.jsx)(`h1`,{className:`text-2xl font-bold`,children:`Quizzes`}),(0,m.jsx)(r,{to:`/courses/${t}/quizzes/new`,children:(0,m.jsxs)(o,{children:[(0,m.jsx)(c,{className:`h-4 w-4 mr-2`}),`Create Quiz`]})})]}),n.length===0?(0,m.jsx)(`div`,{className:`text-center py-12`,children:(0,m.jsx)(`p`,{className:`text-muted-foreground`,children:`No quizzes available yet.`})}):(0,m.jsx)(`div`,{className:`space-y-4`,children:n.map(e=>(0,m.jsx)(_,{quiz:e,courseId:t},e.id))})]})}const y=v;export{y as Component};