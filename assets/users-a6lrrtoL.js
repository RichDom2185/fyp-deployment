import{t as e}from"./hooks-CYRrV7oD.js";import{K as t,t as n,w as r,x as i}from"./index-DkHy_0vr.js";import{t as a}from"./button-CVZMqZS2.js";import"./es2015-DqD72R9q.js";import"./shim-CTE6O2qI.js";import{n as o,r as s,t as c}from"./avatar-DgTxZQgq.js";import{n as l,o as u,r as d,t as f}from"./dropdown-menu-BEIsTsXa.js";var p=t(r()),m=(({roles:e,user:t,onChange:n})=>(0,p.jsxs)(f,{children:[(0,p.jsx)(u,{asChild:!0,children:(0,p.jsx)(a,{variant:`outline`,size:`sm`,children:t.role})}),(0,p.jsx)(l,{children:e.map(e=>(0,p.jsx)(d,{onClick:()=>n(t.id,e),children:e},e))})]})),h=[`Admin`,`Editor`,`Viewer`],g=(({user:e})=>(0,p.jsxs)(`tr`,{className:`border-t`,children:[(0,p.jsxs)(`td`,{className:`p-3 flex items-center gap-3`,children:[(0,p.jsxs)(c,{children:[(0,p.jsx)(s,{src:e.avatarUrl,alt:e.name}),(0,p.jsx)(o,{children:e.name.charAt(0)})]}),(0,p.jsx)(`span`,{children:e.name})]}),(0,p.jsx)(`td`,{className:`p-3`,children:e.email}),(0,p.jsx)(`td`,{className:`p-3`,children:(0,p.jsx)(m,{roles:h,user:e,onChange:(e,t)=>{window.alert(`User ID: ${e}, New Role: ${t}`)}})})]},e.id)),_=(({users:e})=>(0,p.jsxs)(`table`,{className:`min-w-full text-sm`,children:[(0,p.jsx)(`thead`,{className:`bg-muted`,children:(0,p.jsxs)(`tr`,{children:[(0,p.jsx)(`th`,{className:`p-3 text-left font-semibold`,children:`User`}),(0,p.jsx)(`th`,{className:`p-3 text-left font-semibold`,children:`Email`}),(0,p.jsx)(`th`,{className:`p-3 text-left font-semibold`,children:`Role`}),(0,p.jsx)(`th`,{className:`p-3`})]})}),(0,p.jsx)(`tbody`,{children:e.map(e=>(0,p.jsx)(g,{user:{id:e.userId,name:e.userName,email:e.userEmail,role:e.roleName}},e.id))})]}));const v={breadcrumb:`User Settings`},y=()=>{let{courseId:t}=i(),r=t?parseInt(t):null,{data:a,isLoading:o}=e({...n.members.list(r),errorMessage:`Failed to load course members`,fallbackValue:[],enabled:!!r}),s=a?.map(e=>({id:e.id,userId:e.user.id,userName:e.user.fullName,userEmail:e.user.email,roleName:e.role.name,roleId:e.role.id,joinedAt:e.createdAt}));return(0,p.jsxs)(`div`,{className:`max-w-3xl mx-auto py-8`,children:[(0,p.jsx)(`div`,{className:`flex items-center justify-between mb-6`,children:(0,p.jsx)(`h1`,{className:`text-2xl font-bold`,children:`Course Users`})}),(0,p.jsx)(`div`,{className:`overflow-x-auto rounded border`,children:o?(0,p.jsx)(`div`,{className:`text-center py-8`,children:`Loading membersâ€¦`}):!s||s.length===0?(0,p.jsx)(`div`,{className:`text-center py-8 text-muted-foreground`,children:`No members found`}):(0,p.jsx)(_,{users:s})})]})};y.displayName=`UsersSettings`;var b=y;export{y as Component,b as default,v as handle};