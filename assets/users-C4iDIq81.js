import{t as e}from"./hooks-BVZKHwJG.js";import{T as t,Z as n,t as r,x as i}from"./index-De71N5Dy.js";import{t as a}from"./button-DPMtwoy8.js";import"./es2015-nRZsoKYs.js";import"./shim-CKHktkII.js";import{n as o,r as s,t as c}from"./avatar-D_PmZzLC.js";import{n as l,o as u,r as d,t as f}from"./dropdown-menu-COzkZiqh.js";var p=n(t());function m({roles:e,user:t,onChange:n}){return(0,p.jsxs)(f,{children:[(0,p.jsx)(u,{asChild:!0,children:(0,p.jsx)(a,{variant:`outline`,size:`sm`,children:t.role})}),(0,p.jsx)(l,{children:e.map(e=>(0,p.jsx)(d,{onClick:()=>n(t.id,e),children:e},e))})]})}var h=m,g=[`Admin`,`Editor`,`Viewer`];function _({user:e}){return(0,p.jsxs)(`tr`,{className:`border-t`,children:[(0,p.jsxs)(`td`,{className:`p-3 flex items-center gap-3`,children:[(0,p.jsxs)(c,{children:[(0,p.jsx)(s,{src:e.avatarUrl,alt:e.name}),(0,p.jsx)(o,{children:e.name.charAt(0)})]}),(0,p.jsx)(`span`,{children:e.name})]}),(0,p.jsx)(`td`,{className:`p-3`,children:e.email}),(0,p.jsx)(`td`,{className:`p-3`,children:(0,p.jsx)(h,{roles:g,user:e,onChange:(e,t)=>{window.alert(`User ID: ${e}, New Role: ${t}`)}})})]},e.id)}var v=_;function y({users:e}){return(0,p.jsxs)(`table`,{className:`min-w-full text-sm`,children:[(0,p.jsx)(`thead`,{className:`bg-muted`,children:(0,p.jsxs)(`tr`,{children:[(0,p.jsx)(`th`,{className:`p-3 text-left font-semibold`,children:`User`}),(0,p.jsx)(`th`,{className:`p-3 text-left font-semibold`,children:`Email`}),(0,p.jsx)(`th`,{className:`p-3 text-left font-semibold`,children:`Role`}),(0,p.jsx)(`th`,{className:`p-3`})]})}),(0,p.jsx)(`tbody`,{children:e.map(e=>(0,p.jsx)(v,{user:{id:e.userId,name:e.userName,email:e.userEmail,role:e.roleName}},e.id))})]})}var b=y;const x={breadcrumb:`User Settings`};function S(){let{courseId:t}=i(),n=t?parseInt(t):null,{data:a,isLoading:o}=e({...r.members.list(n),errorMessage:`Failed to load course members`,fallbackValue:[],enabled:!!n}),s=a?.map(e=>({id:e.id,userId:e.user.id,userName:e.user.fullName,userEmail:e.user.email,roleName:e.role.name,roleId:e.role.id,joinedAt:e.createdAt}));return(0,p.jsxs)(`div`,{className:`max-w-3xl mx-auto py-8`,children:[(0,p.jsx)(`div`,{className:`flex items-center justify-between mb-6`,children:(0,p.jsx)(`h1`,{className:`text-2xl font-bold`,children:`Course Users`})}),(0,p.jsx)(`div`,{className:`overflow-x-auto rounded border`,children:o?(0,p.jsx)(`div`,{className:`text-center py-8`,children:`Loading membersâ€¦`}):!s||s.length===0?(0,p.jsx)(`div`,{className:`text-center py-8 text-muted-foreground`,children:`No members found`}):(0,p.jsx)(b,{users:s})})]})}const C=S;export{C as Component,x as handle};