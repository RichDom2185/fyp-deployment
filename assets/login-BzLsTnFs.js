import{M as e,O as t,b as n,c as r,e as i,i as a,n as o,p as s,u as c}from"./index-BhFOQNBT.js";import"./dist-BWP1BH0m.js";import{b as l,c as u}from"./card-OqURSol_.js";import{b as d}from"./button-D5Dzo2oi.js";import{b as f}from"./input-DOmlsFvp.js";import{b as p}from"./label-CMX14k_v.js";import{b as m}from"./separator-D2MLSFpl.js";var h=t(e()),g=t(c());const _=(({handleSubmit:e})=>{let[t,n]=(0,h.useState)(``),[r,i]=(0,h.useState)(``),[a,o]=(0,h.useState)(!1);return(0,g.jsxs)(`form`,{onSubmit:async n=>{n.preventDefault(),o(!0);try{await e?.(t,r)}catch(e){window.alert(`Login failed: ${e instanceof Error?e.message:e}`)}finally{o(!1)}},className:`space-y-6`,children:[(0,g.jsxs)(`div`,{className:`space-y-4`,children:[(0,g.jsxs)(`div`,{className:`space-y-2`,children:[(0,g.jsx)(p,{htmlFor:`email`,children:`Email`}),(0,g.jsx)(f,{id:`email`,type:`email`,name:`email`,placeholder:`john@example.com`,required:!0,value:t,onChange:e=>n(e.target.value)})]}),(0,g.jsxs)(`div`,{className:`space-y-2`,children:[(0,g.jsx)(p,{htmlFor:`password`,children:`Password`}),(0,g.jsx)(f,{id:`password`,autoCapitalize:`off`,autoComplete:`off`,autoCorrect:`off`,spellCheck:`false`,type:`password`,name:`password`,placeholder:`Enter your password`,required:!0,value:r,onChange:e=>i(e.target.value)})]})]}),(0,g.jsx)(d,{type:`submit`,className:`w-full`,disabled:a,children:a?`Logging in...`:`Login with Email`})]})});var v=_;const y={google:`bg-red-500 hover:bg-red-600`,github:`bg-gray-800 hover:bg-gray-900`},b=(()=>(0,g.jsxs)(`div`,{className:`flex flex-col items-center space-y-3`,children:[(0,g.jsx)(`span`,{className:`text-gray-500 text-sm`,children:`Or login with`}),(0,g.jsx)(`div`,{className:`flex space-x-4`,children:Object.values(r).map(e=>(0,g.jsx)(`a`,{href:e.authUrl.toString(),className:`px-4 py-2 text-white rounded transition ${y[e.id]}`,children:e.name},e.id))})]}));var x=b;const S=()=>{let e=i(),t=s(),c=o(),d=new URLSearchParams(c.search),f=d.get(`continue`);return(0,g.jsx)(`div`,{className:`flex h-screen w-screen items-center justify-center bg-gray-100`,children:(0,g.jsx)(l,{children:(0,g.jsxs)(u,{className:`w-96 space-y-4`,children:[(0,g.jsx)(v,{handleSubmit:async(r,i)=>{let o=await n.POST(`/api/v1/auth/login`,{body:{email:r,password:i}});if(o.error)throw Error(o.error.message||`An unknown error occurred`);e(o.data?a.setTokens(o.data):a.clearTokens()),o.data&&t(f||`/dashboard`)}}),(0,g.jsx)(m,{}),Object.keys(r).length>0&&(0,g.jsx)(x,{}),(0,g.jsxs)(`div`,{className:`text-center text-sm text-gray-500`,children:[`Don't have an account?`,` `,(0,g.jsx)(`a`,{href:`/register`,className:`text-blue-600 hover:underline`,children:`Register`})]})]})})})},C=S;C.displayName=`Login`;var w=C;export{C as Component,w as default};